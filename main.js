(()=>{"use strict";var e=document.querySelector(".profile__edit-button"),t=document.querySelector(".popup_edit"),n=t.querySelector(".form__input_value_name"),r=t.querySelector(".form__input_value_occupation"),o=document.querySelector(".profile__add-button"),i=document.querySelector(".popup_add"),a=document.querySelector(".popup_avatar"),u=document.querySelector(".profile__image-cropper"),c=i.querySelector(".popup__button_add"),s=t.querySelector(".popup__button_edit"),l=document.querySelector(".popup__button_avatar"),f={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"form__input_type_error",errorMessageClass:"form__error_visible"};function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n,r,o,i,a,u,c,s,l,f){var p,h,d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h=function(){d._element.remove(),d._element=null},(p="removeCard")in this?Object.defineProperty(this,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):this[p]=h,this._selector=t,this._name=n,this._link=r,this._alt=o,this._likes=i,this._cardId=a,this._userId=u,this._ownerId=c,this._handleCardClick=s,this._handleCardDelete=l,this._handleLikeCard=f,this._element=this._getTemplate(),this._image=this._element.querySelector(".element__picture"),this._title=this._element.querySelector(".element__title"),this._likesNumber=this._element.querySelector(".element__likes-number"),this._trash=this._element.querySelector(".element__button-trash"),this._like=this._element.querySelector(".element__button-like"),this._isLike=this._likes.find((function(e){return e._id===d._userId}))}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._selector).content.querySelector(".element").cloneNode(!0)}},{key:"handleLike",value:function(e){this._likesNumber.textContent=e.likes.length,this._isLike=!this._isLike,this._isLike?this._like.classList.add("element__button-like_active"):this._like.classList.remove("element__button-like_active")}},{key:"getCardID",value:function(){return this._cardId}},{key:"getIsLike",value:function(){return this._isLike}},{key:"getView",value:function(){return this._isLike&&this._like.classList.add("element__button-like_active"),this._image.src=this._link,this._image.alt=this._name,this._title.textContent=this._name,this._likesNumber.textContent=this._likes.length,this._ownerId!==this._userId&&this._trash.classList.add("element__button-trash_hidden"),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._like.addEventListener("click",(function(){return e._handleLikeCard(e)})),this._trash.addEventListener("click",(function(){return e._handleCardDelete(e)})),this._image.addEventListener("click",(function(){return e._handleCardClick()}))}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"_showError",(function(e,t){var n=r._form.querySelector("#".concat(e.id,"-error"));n.textContent=t,n.classList.add(r._errorMessageClass),e.classList.add(r._inputErrorClass)})),_(this,"_hideError",(function(e){var t=r._form.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(r._errorMessageClass),e.classList.remove(r._inputErrorClass)})),_(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideError(e):r._showError(e,e.validationMessage)})),_(this,"_hasInvalidInput",(function(){return Array.from(r._inputs).some((function(e){return!e.validity.valid}))})),_(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r._submitButton.classList.add(r._inactiveButtonClass),r._submitButton.disabled=!0):(r._submitButton.classList.remove(r._inactiveButtonClass),r._submitButton.disabled=!1)})),_(this,"_setInputListeners",(function(){r._toggleButtonState(),r._inputs.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),_(this,"enableValidation",(function(){r._setInputListeners()})),this._form=n,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorMessageClass=t.errorMessageClass,this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputs=this._form.querySelectorAll(this._inputSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(this._inputs,this._submitButton),this._inputs.forEach((function(t){e._hideError(t)}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){var n=t.nameSelector,r=t.occupationSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._occupation=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._occupation.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._occupation.textContent=e.occupation,this._avatar.src=e.avatar}},{key:"getUserID",value:function(){return this._id}},{key:"setUserID",value:function(e){this._id=e}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("button-close"))&&e.close()}))}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=O(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function j(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._submit(n._getInputValues()),n.close()},(o="_handleSubmit")in(r=P(n=i.call(this,e)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._submit=t,n._form=n._popup.querySelector(".form"),n._formInputs=n._form.querySelectorAll(".form__input"),n._submitButton=n._popup.querySelector(".popup__button"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._formInputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){E(I(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._handleSubmit.bind(this))}},{key:"close",value:function(){E(I(a.prototype),"close",this).call(this),this._form.reset()}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=x(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function U(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupLink=t._popup.querySelector(".popup__image"),t._popupSign=t._popup.querySelector(".popup__sign"),t}return t=a,(n=[{key:"open",value:function(e){this._popupLink.alt=e._name,this._popupLink.src=e._link,this._popupSign.textContent=e._name,T(A(a.prototype),"open",this).call(this)}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"editProfile",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.occupation})}).then((function(e){return t._handleResponse(e)}))}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"addLikeCard",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"deleteLikeCard",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"patchAvatar",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return t._handleResponse(e)}))}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(){return z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=$(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},z.apply(this,arguments)}function $(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=K(e)););return e}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function G(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(r);if(o){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._popup.querySelector(".popup__content_confirm"),t}return t=a,(n=[{key:"open",value:function(){z(K(a.prototype),"open",this).call(this)}},{key:"setAction",value:function(e){this._actionCallback=e}},{key:"setEventListeners",value:function(){var e=this;z(K(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._actionCallback()}))}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=new N({url:"https://mesto.nomoreparties.co/v1/cohort-42",headers:{authorization:"f25ee209-d794-409d-8eae-29ba78e4618b","Content-Type":"application/json"}});Promise.all([X.getUserInfo(),X.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Z.setUserInfo({name:o.name,occupation:o.about,avatar:o.avatar}),Z.setUserID(o._id),ee.renderItems(i.reverse())})).catch((function(e){console.log("Unable to load data from the server ".concat(e))}));var Y=function(e){var t=Z.getUserID(),n=new h(".template",e.name,e.link,e.alt,e.likes,e._id,t,e.owner._id,(function(){return te.open(n)}),(function(){oe.open(),oe.setAction((function(){X.deleteCard(e._id).then((function(){n.removeCard(),oe.close()})).catch((function(e){console.log("Unable to delete the card ".concat(e))}))}))}),(function(){n.getIsLike()?X.deleteLikeCard(e._id).then((function(e){n.handleLike(e)})).catch((function(e){console.log('Error: unable to remove "Like" '.concat(e))})):X.addLikeCard(e._id).then((function(e){n.handleLike(e)})).catch((function(e){console.log('Error: unable to add "Like" '.concat(e))}))}));return n.getView()},Z=new g({nameSelector:".profile__name",occupationSelector:".profile__occupation",avatarSelector:".profile__image"}),ee=new b({renderer:function(e){ee.addItem(Y(e))}},".elements"),te=new V(".popup_pic"),ne=new R(".popup_add",(function(e){var t={name:e.name,link:e.link};c.textContent="Creating...",X.addCard(t).then((function(e){ee.addItem(Y(e)),ne.close()})).catch((function(e){console.log("Unable to add the card ".concat(e))})).finally((function(){c.textContent="Create"}))})),re=new R(".popup_edit",(function(e){s.textContent="Saving...",X.editProfile(e).then((function(e){Z.setUserInfo({name:e.name,occupation:e.about,avatar:e.avatar}),re.close()})).catch((function(e){console.log("Error editing profile ".concat(e))})).finally((function(){s.textContent="Save"}))})),oe=new Q(".popup_confirm"),ie=new R(".popup_avatar",(function(e){l.textContent="Saving...",X.patchAvatar(e).then((function(e){Z.setUserInfo({name:e.name,occupation:e.about,avatar:e.avatar}),ie.close()})).catch((function(e){console.log("Error: unable to update the avatar ".concat(e))})).finally((function(){l.textContent="Save"}))})),ae=new y(f,t),ue=new y(f,i),ce=new y(f,a);ae.enableValidation(),ue.enableValidation(),ce.enableValidation(),te.setEventListeners(),ne.setEventListeners(),re.setEventListeners(),oe.setEventListeners(),ie.setEventListeners(),o.addEventListener("click",(function(){ue.resetValidation(),ne.open()})),e.addEventListener("click",(function(){var e=Z.getUserInfo();n.value=e.name,r.value=e.about,ae.resetValidation(),re.open()})),u.addEventListener("click",(function(){ce.resetValidation(),ie.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2JQLEdBQWtCTyxvQkFFbEI1TSxFQUFVMkQsaUJBQWlCLFNBQVMsV0FDbkM4SSxHQUFpQkksa0JBQ2pCZixHQUFnQlosVUFHakJ4TCxFQUFXaUUsaUJBQWlCLFNBQVMsV0FDcEMsSUFBTW1KLEVBQWtCN0MsRUFBU0gsY0FFakNoSyxFQUFVK0gsTUFBUWlGLEVBQWdCOUwsS0FDbENqQixFQUFnQjhILE1BQVFpRixFQUFnQnRHLE1BQ3hDZ0csR0FBa0JLLGtCQUNsQlgsR0FBaUJoQixVQUdsQi9LLEVBQW1Cd0QsaUJBQWlCLFNBQVMsV0FDNUMrSSxHQUFvQkcsa0JBQ3BCUixHQUFrQm5CLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YXJpYWJsZXMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BpY3R1cmVQb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vZm9yIGVkaXQgYnV0dG9uXG5leHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcG9wdXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IHBvcHVwRWRpdC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3ZhbHVlX25hbWVcIik7XG5leHBvcnQgY29uc3Qgb2NjdXBhdGlvbklucHV0ID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdmFsdWVfb2NjdXBhdGlvblwiKTtcblxuLy9mb3IgYWRkIGJ1dHRvblxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYWRkXCIpO1xuXG4vL2NoYW5nZSBhdmF0YXJcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYXZhdGFyXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkF2YXRhckNoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtY3JvcHBlclwiKTtcblxuLy9idXR0b25zIGluIHBvcHVwc1xuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdFBpY3R1cmUgPSBwb3B1cEFkZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25fYWRkXCIpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblN1Ym1pdFByb2ZpbGUgPSBwb3B1cEVkaXQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX2VkaXRcIik7XG5leHBvcnQgY29uc3QgYnV0dG9uU3VibWl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uX2F2YXRhclwiKTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG5cdGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxuXHRpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxuXHRzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuXHRpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcblx0aW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcblx0ZXJyb3JNZXNzYWdlQ2xhc3M6IFwiZm9ybV9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuXHRjb25zdHJ1Y3RvcihzZWxlY3RvciwgbmFtZSwgbGluaywgYWx0LCBsaWtlcywgaWQsIHVzZXJJZCwgb3duZXJJZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkRGVsZXRlLCBoYW5kbGVMaWtlQ2FyZCkge1xuXHRcdHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7IC8vc2F2ZWQgc2VsZWN0b3IgYXMgY2xhc3MgY2hhclxuXHRcdHRoaXMuX25hbWUgPSBuYW1lO1xuXHRcdHRoaXMuX2xpbmsgPSBsaW5rO1xuXHRcdHRoaXMuX2FsdCA9IGFsdDtcblx0XHR0aGlzLl9saWtlcyA9IGxpa2VzO1xuXHRcdHRoaXMuX2NhcmRJZCA9IGlkO1xuXHRcdHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcblx0XHR0aGlzLl9vd25lcklkID0gb3duZXJJZDtcblx0XHR0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG5cdFx0dGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XG5cdFx0dGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcblxuXHRcdHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXHRcdHRoaXMuX2ltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3BpY3R1cmVcIik7XG5cdFx0dGhpcy5fdGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGl0bGVcIik7XG5cdFx0dGhpcy5fbGlrZXNOdW1iZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZXMtbnVtYmVyXCIpO1xuXHRcdHRoaXMuX3RyYXNoID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi10cmFzaFwiKTtcblx0XHR0aGlzLl9saWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi1saWtlXCIpO1xuXHRcdHRoaXMuX2lzTGlrZSA9IHRoaXMuX2xpa2VzLmZpbmQoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuXHR9XG5cblx0X2dldFRlbXBsYXRlKCkge1xuXHRcdC8vcmV0dXJucyB0ZW1wbGF0ZSBieSBzZWxlY3RvclxuXHRcdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKS5jbG9uZU5vZGUodHJ1ZSk7XG5cdH1cblxuXHRoYW5kbGVMaWtlKGl0ZW0pIHtcblx0XHR0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IGl0ZW0ubGlrZXMubGVuZ3RoO1xuXHRcdHRoaXMuX2lzTGlrZSA9ICF0aGlzLl9pc0xpa2U7XG5cdFx0aWYgKHRoaXMuX2lzTGlrZSkge1xuXHRcdFx0dGhpcy5fbGlrZS5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9saWtlLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmVcIik7XG5cdFx0fVxuXHR9XG5cblx0cmVtb3ZlQ2FyZCA9ICgpID0+IHtcblx0XHR0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuXHRcdHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuXHR9O1xuXG5cdGdldENhcmRJRCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fY2FyZElkO1xuXHR9XG5cblx0Z2V0SXNMaWtlKCkge1xuXHRcdHJldHVybiB0aGlzLl9pc0xpa2U7XG5cdH1cblxuXHQvL3JldHVybnMgaHRtbCBzdHJ1Y3R1cmVcblx0Z2V0VmlldygpIHtcblx0XHR0aGlzLl9pc0xpa2UgPyB0aGlzLl9saWtlLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmVcIikgOiBudWxsO1xuXG5cdFx0dGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcblx0XHR0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuXHRcdHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblx0XHR0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuXHRcdGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcblx0XHRcdHRoaXMuX3RyYXNoLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19idXR0b24tdHJhc2hfaGlkZGVuXCIpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cdFx0cmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG5cdH1cblxuXHRfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cdFx0dGhpcy5fbGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUNhcmQodGhpcykpO1xuXHRcdHRoaXMuX3RyYXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMpKTtcblx0XHR0aGlzLl9pbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKCkpO1xuXHR9XG59XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybSkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBkYXRhLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBkYXRhLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBkYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZGF0YS5pbnB1dEVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VDbGFzcyA9IGRhdGEuZXJyb3JNZXNzYWdlQ2xhc3M7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3Rvcik7XG4gICAgLy8gdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XG4gIH07XG5cbiAgX3Nob3dFcnJvciA9IChpbnB1dCwgZXJyb3JNZXNzYWdlVGV4dCkgPT4ge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlVGV4dDtcbiAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvck1lc3NhZ2VDbGFzcyk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlRXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yTWVzc2FnZUNsYXNzKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2lucHV0cykuc29tZSgoZWxlbWVudCkgPT4gIWVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9O1xuXG4gIC8vICB0b2dnbGUgZGlzYWJsZSBCdXR0b24gaWYgaW52YWxpZFxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgX3NldElucHV0TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2lucHV0cywgdGhpcy5fc3VibWl0QnV0dG9uKTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KVxuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0SW5wdXRMaXN0ZW5lcnMoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcblx0Y29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuXHRcdHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cdFx0dGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG5cdH1cblxuXHRhZGRJdGVtKGVsZW1lbnQpIHtcblx0XHR0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcblx0fVxuXG5cdHJlbmRlckl0ZW1zKGNhcmQpIHtcblx0XHRjYXJkLmZvckVhY2goKGNhcmQpID0+IHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyKGNhcmQpO1xuXHRcdH0pO1xuXHR9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG5cdGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBvY2N1cGF0aW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcblx0XHR0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuXHRcdHRoaXMuX29jY3VwYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9jY3VwYXRpb25TZWxlY3Rvcik7XG5cdFx0dGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG5cdH1cblxuXHRnZXRVc2VySW5mbygpIHtcblx0XHRjb25zdCB1c2VyRGF0YSA9IHtcblx0XHRcdG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG5cdFx0XHRhYm91dDogdGhpcy5fb2NjdXBhdGlvbi50ZXh0Q29udGVudCxcblx0XHR9O1xuXHRcdHJldHVybiB1c2VyRGF0YTtcblx0fVxuXG5cdHNldFVzZXJJbmZvKGRhdGEpIHtcblx0XHQvLyBjb25zb2xlLmxvZygnc2V0dXNlcmluZm8nLCBkYXRhKVxuXHRcdHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG5cdFx0dGhpcy5fb2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IGRhdGEub2NjdXBhdGlvbjtcblx0XHR0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG5cdH1cblxuXHRnZXRVc2VySUQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2lkO1xuXHR9XG5cblx0c2V0VXNlcklEKGlkKSB7XG5cdFx0dGhpcy5faWQgPSBpZDtcblx0fVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuXHRjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuXHRcdHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG5cdFx0dGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuXHR9XG5cblx0b3BlbigpIHtcblx0XHR0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcblx0fVxuXG5cdGNsb3NlKCkge1xuXHRcdHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuXHR9XG5cblx0X2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuXHRcdGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fVxuXHR9XG5cblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cdFx0dGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG5cdFx0XHRpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b24tY2xvc2VcIikpIHtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0Rm9ybSkge1xuXHRcdHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXHRcdHRoaXMuX3N1Ym1pdCA9IHN1Ym1pdEZvcm07XG5cdFx0dGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcblx0XHR0aGlzLl9mb3JtSW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xuXHRcdHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcblx0fVxuXG5cdF9nZXRJbnB1dFZhbHVlcygpIHtcblx0XHRjb25zdCBhbGxGb3JtVmFsdWVzID0ge307XG5cdFx0dGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdFx0YWxsRm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBhbGxGb3JtVmFsdWVzO1xuXHR9XG5cblx0X2hhbmRsZVN1Ym1pdCA9IChldnQpID0+IHtcblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHR0aGlzLl9zdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG5cdFx0dGhpcy5jbG9zZSgpO1xuXHR9O1xuXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cdFx0dGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdGNsb3NlKCkge1xuXHRcdHN1cGVyLmNsb3NlKCk7XG5cdFx0dGhpcy5fZm9ybS5yZXNldCgpO1xuXHR9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGljdHVyZVBvcHVwIGV4dGVuZHMgUG9wdXAge1xuXHRjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuXHRcdHN1cGVyKHNlbGVjdG9yKTtcblx0XHR0aGlzLl9wb3B1cExpbmsgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcblx0XHR0aGlzLl9wb3B1cFNpZ24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zaWduXCIpO1xuXHR9XG5cblx0b3BlbihkYXRhKSB7XG5cdFx0dGhpcy5fcG9wdXBMaW5rLmFsdCA9IGRhdGEuX25hbWU7XG5cdFx0dGhpcy5fcG9wdXBMaW5rLnNyYyA9IGRhdGEuX2xpbms7XG5cdFx0dGhpcy5fcG9wdXBTaWduLnRleHRDb250ZW50ID0gZGF0YS5fbmFtZTtcblx0XHRzdXBlci5vcGVuKCk7XG5cdH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG5cdGNvbnN0cnVjdG9yKHsgdXJsLCBoZWFkZXJzIH0pIHtcblx0XHR0aGlzLl91cmwgPSB1cmw7XG5cdFx0dGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG5cdH1cblxuXHRfaGFuZGxlUmVzcG9uc2UocmVzKSB7XG5cdFx0cmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c31gKTtcblx0fVxuXG5cdGdldFVzZXJJbmZvKCkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcblx0XHR9KS50aGVuKChyZXMpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcykpO1xuXHR9XG5cblx0Z2V0SW5pdGlhbENhcmRzKCkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcblx0XHR9KS50aGVuKChjYXJkKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShjYXJkKSk7XG5cdH1cblxuXHRlZGl0UHJvZmlsZSh1c2VyRGF0YSkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuXHRcdFx0bWV0aG9kOiBcIlBBVENIXCIsXG5cdFx0XHRoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRuYW1lOiB1c2VyRGF0YS5uYW1lLFxuXHRcdFx0XHRhYm91dDogdXNlckRhdGEub2NjdXBhdGlvbixcblx0XHRcdH0pLFxuXHRcdH0pLnRoZW4oKHVzZXIpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHVzZXIpKTtcblx0fVxuXG5cdGFkZENhcmQoZGF0YSkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuXHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcblx0XHR9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcblx0fVxuXG5cdGRlbGV0ZUNhcmQoY2FyZElkKSB7XG5cdFx0cmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuXHRcdFx0bWV0aG9kOiBcIkRFTEVURVwiLFxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcblx0XHR9KS50aGVuKChjYXJkKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShjYXJkKSk7XG5cdH1cblxuXHRhZGRMaWtlQ2FyZChpZCkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuXHRcdFx0bWV0aG9kOiBcIlBVVFwiLFxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcblx0XHR9KS50aGVuKChjYXJkKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShjYXJkKSk7XG5cdH1cblxuXHRkZWxldGVMaWtlQ2FyZChpZCkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuXHRcdFx0bWV0aG9kOiBcIkRFTEVURVwiLFxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcblx0XHR9KS50aGVuKChjYXJkKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShjYXJkKSk7XG5cdH1cblxuXHRwYXRjaEF2YXRhcih1c2VyRGF0YSkge1xuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcblx0XHRcdG1ldGhvZDogXCJQQVRDSFwiLFxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0YXZhdGFyOiB1c2VyRGF0YS5saW5rLFxuXHRcdFx0fSksXG5cdFx0fSkudGhlbigodXNlckRhdGEpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHVzZXJEYXRhKSk7XG5cdH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuXHRcdHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXHRcdHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250ZW50X2NvbmZpcm1cIik7XG5cdH1cblxuXHRvcGVuKCkge1xuXHRcdHN1cGVyLm9wZW4oKTtcblx0fVxuXG5cdHNldEFjdGlvbihhY3Rpb24pIHtcblx0XHR0aGlzLl9hY3Rpb25DYWxsYmFjayA9IGFjdGlvbjtcblx0fVxuXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cdFx0dGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5fYWN0aW9uQ2FsbGJhY2soKTtcblx0XHR9KTtcblx0fVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuaW1wb3J0IHsgYnV0dG9uRWRpdCwgcG9wdXBFZGl0LCBuYW1lSW5wdXQsIG9jY3VwYXRpb25JbnB1dCwgYnV0dG9uQWRkLCBwb3B1cEFkZCwgcG9wdXBBdmF0YXIsIGJ1dHRvbkF2YXRhckNoYW5nZSwgYnV0dG9uU3VibWl0UGljdHVyZSwgYnV0dG9uU3VibWl0UHJvZmlsZSwgYnV0dG9uU3VibWl0QXZhdGFyLCB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL3ZhcmlhYmxlc1wiO1xuXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQaWN0dXJlUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUGljdHVyZVBvcHVwLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uLmpzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuXHR1cmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MlwiLFxuXHRoZWFkZXJzOiB7XG5cdFx0YXV0aG9yaXphdGlvbjogXCJmMjVlZTIwOS1kNzk0LTQwOWQtOGVhZS0yOWJhNzhlNDYxOGJcIixcblx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcblx0fSxcbn0pO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG5cdC50aGVuKChbdXNlciwgY2FyZHNdKSA9PiB7XG5cdFx0dXNlckluZm8uc2V0VXNlckluZm8oe1xuXHRcdFx0bmFtZTogdXNlci5uYW1lLFxuXHRcdFx0b2NjdXBhdGlvbjogdXNlci5hYm91dCxcblx0XHRcdGF2YXRhcjogdXNlci5hdmF0YXIsXG5cdFx0fSk7XG5cdFx0dXNlckluZm8uc2V0VXNlcklEKHVzZXIuX2lkKTtcblx0XHQvLyByZW5kZXIgY2FyZHNcblx0XHRjYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkcy5yZXZlcnNlKCkpO1xuXHR9KVxuXHQuY2F0Y2goKGVycikgPT4ge1xuXHRcdGNvbnNvbGUubG9nKGBVbmFibGUgdG8gbG9hZCBkYXRhIGZyb20gdGhlIHNlcnZlciAke2Vycn1gKTtcblx0fSk7XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZHNEYXRhKSA9PiB7XG5cdGNvbnN0IGRhdGFVc2VySWQgPSB1c2VySW5mby5nZXRVc2VySUQoKTtcblx0Y29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxuXHRcdFwiLnRlbXBsYXRlXCIsXG5cdFx0Y2FyZHNEYXRhLm5hbWUsXG5cdFx0Y2FyZHNEYXRhLmxpbmssXG5cdFx0Y2FyZHNEYXRhLmFsdCxcblx0XHRjYXJkc0RhdGEubGlrZXMsXG5cdFx0Y2FyZHNEYXRhLl9pZCxcblx0XHRkYXRhVXNlcklkLFxuXHRcdGNhcmRzRGF0YS5vd25lci5faWQsXG5cdFx0KCkgPT4gcGljdHVyZVBvcHVwLm9wZW4obmV3Q2FyZCksXG5cdFx0KCkgPT4ge1xuXHRcdFx0cG9wdXBDb25maXJtLm9wZW4oKTtcblx0XHRcdHBvcHVwQ29uZmlybS5zZXRBY3Rpb24oKCkgPT4ge1xuXHRcdFx0XHRhcGlcblx0XHRcdFx0XHQuZGVsZXRlQ2FyZChjYXJkc0RhdGEuX2lkKVxuXHRcdFx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRcdG5ld0NhcmQucmVtb3ZlQ2FyZCgpO1xuXHRcdFx0XHRcdFx0cG9wdXBDb25maXJtLmNsb3NlKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYFVuYWJsZSB0byBkZWxldGUgdGhlIGNhcmQgJHtlcnJ9YCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0KCkgPT4ge1xuXHRcdFx0aWYgKCFuZXdDYXJkLmdldElzTGlrZSgpKSB7XG5cdFx0XHRcdGFwaVxuXHRcdFx0XHRcdC5hZGRMaWtlQ2FyZChjYXJkc0RhdGEuX2lkKVxuXHRcdFx0XHRcdC50aGVuKChjYXJkKSA9PiB7XG5cdFx0XHRcdFx0XHRuZXdDYXJkLmhhbmRsZUxpa2UoY2FyZCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgRXJyb3I6IHVuYWJsZSB0byBhZGQgXCJMaWtlXCIgJHtlcnJvcn1gKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFwaVxuXHRcdFx0XHRcdC5kZWxldGVMaWtlQ2FyZChjYXJkc0RhdGEuX2lkKVxuXHRcdFx0XHRcdC50aGVuKChjYXJkKSA9PiB7XG5cdFx0XHRcdFx0XHRuZXdDYXJkLmhhbmRsZUxpa2UoY2FyZCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgRXJyb3I6IHVuYWJsZSB0byByZW1vdmUgXCJMaWtlXCIgJHtlcnJvcn1gKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG5cdGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZC5nZXRWaWV3KCk7XG5cdHJldHVybiBjYXJkRWxlbWVudDtcbn07XG5cbi8vIFVzZXIgaW5mb1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuXHRuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcblx0b2NjdXBhdGlvblNlbGVjdG9yOiBcIi5wcm9maWxlX19vY2N1cGF0aW9uXCIsXG5cdGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxufSk7XG5cbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG5cdHtcblx0XHRyZW5kZXJlcjogKGl0ZW0pID0+IHtcblx0XHRcdGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG5cdFx0fSxcblx0fSxcblx0XCIuZWxlbWVudHNcIlxuKTtcblxuLy9lZGl0IHByb2ZpbGUvc3VibWl0IGZvcm1cbmNvbnN0IHN1Ym1pdEZvcm1FZGl0SGFuZGxlciA9IChwcm9maWxlRGF0YSkgPT4ge1xuXHRidXR0b25TdWJtaXRQcm9maWxlLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcblx0YXBpXG5cdFx0LmVkaXRQcm9maWxlKHByb2ZpbGVEYXRhKVxuXHRcdC50aGVuKCh1c2VyKSA9PiB7XG5cdFx0XHR1c2VySW5mby5zZXRVc2VySW5mbyh7XG5cdFx0XHRcdG5hbWU6IHVzZXIubmFtZSxcblx0XHRcdFx0b2NjdXBhdGlvbjogdXNlci5hYm91dCxcblx0XHRcdFx0YXZhdGFyOiB1c2VyLmF2YXRhcixcblx0XHRcdH0pO1xuXHRcdFx0cG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coYEVycm9yIGVkaXRpbmcgcHJvZmlsZSAke2Vycm9yfWApO1xuXHRcdH0pXG5cdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0YnV0dG9uU3VibWl0UHJvZmlsZS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuXHRcdH0pO1xufTtcblxuLy8gYWRkIGEgbmV3IHBpY3R1cmUgY2FyZFxuY29uc3Qgc3VibWl0QWRkQ2FyZEZvcm0gPSAoaW5wdXREYXRhKSA9PiB7XG5cdGNvbnN0IGNhcmQgPSB7XG5cdFx0bmFtZTogaW5wdXREYXRhLm5hbWUsXG5cdFx0bGluazogaW5wdXREYXRhLmxpbmssXG5cdH07XG5cdGJ1dHRvblN1Ym1pdFBpY3R1cmUudGV4dENvbnRlbnQgPSBcIkNyZWF0aW5nLi4uXCI7XG5cblx0YXBpXG5cdFx0LmFkZENhcmQoY2FyZClcblx0XHQudGhlbigoY2FyZCkgPT4ge1xuXHRcdFx0Y2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmQpKTtcblx0XHRcdHBvcHVwQWRkUGljdHVyZS5jbG9zZSgpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKChlcnIpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGBVbmFibGUgdG8gYWRkIHRoZSBjYXJkICR7ZXJyfWApO1xuXHRcdH0pXG5cdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0YnV0dG9uU3VibWl0UGljdHVyZS50ZXh0Q29udGVudCA9IFwiQ3JlYXRlXCI7XG5cdFx0fSk7XG59O1xuXG5jb25zdCBzdWJtaXRBdmF0YXJGb3JtID0gKG5ld0F2YXRhcikgPT4ge1xuXHRidXR0b25TdWJtaXRBdmF0YXIudGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuXG5cdGFwaVxuXHRcdC5wYXRjaEF2YXRhcihuZXdBdmF0YXIpXG5cdFx0LnRoZW4oKHVzZXIpID0+IHtcblx0XHRcdHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcblx0XHRcdFx0bmFtZTogdXNlci5uYW1lLFxuXHRcdFx0XHRvY2N1cGF0aW9uOiB1c2VyLmFib3V0LFxuXHRcdFx0XHRhdmF0YXI6IHVzZXIuYXZhdGFyLFxuXHRcdFx0fSk7XG5cdFx0XHRwb3B1cEF2YXRhclVwZGF0ZS5jbG9zZSgpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coYEVycm9yOiB1bmFibGUgdG8gdXBkYXRlIHRoZSBhdmF0YXIgJHtlcnJvcn1gKTtcblx0XHR9KVxuXHRcdC5maW5hbGx5KCgpID0+IHtcblx0XHRcdGJ1dHRvblN1Ym1pdEF2YXRhci50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuXHRcdH0pO1xufTtcblxuLy8gZWFjaCBwb3B1cCBnZXRzIGl0cyBvd24gc2FtcGxlIGZyb20gUG9wdXBXaXRoRm9ybVxuY29uc3QgcGljdHVyZVBvcHVwID0gbmV3IFBpY3R1cmVQb3B1cChcIi5wb3B1cF9waWNcIik7XG5jb25zdCBwb3B1cEFkZFBpY3R1cmUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9hZGRcIiwgc3VibWl0QWRkQ2FyZEZvcm0pO1xuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2VkaXRcIiwgc3VibWl0Rm9ybUVkaXRIYW5kbGVyKTtcbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cENvbmZpcm1hdGlvbihcIi5wb3B1cF9jb25maXJtXCIpO1xuY29uc3QgcG9wdXBBdmF0YXJVcGRhdGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9hdmF0YXJcIiwgc3VibWl0QXZhdGFyRm9ybSk7XG5cbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBFZGl0KTtcbmNvbnN0IGZvcm1BZGRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEFkZCk7XG5jb25zdCBmb3JtQXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBBdmF0YXIpO1xuXG5mb3JtRWRpdFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5mb3JtQWRkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyBFdmVudExpc3RlbmVyc1xucGljdHVyZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEFkZFBpY3R1cmUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQ29uZmlybS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBBdmF0YXJVcGRhdGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdGZvcm1BZGRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5cdHBvcHVwQWRkUGljdHVyZS5vcGVuKCk7XG59KTtcblxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRjb25zdCB1cGRhdGVkVXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuXHQvLyBmaWxsIG91dCBmb3JtIHdpdGggdXNlcidzIGRhdGFcblx0bmFtZUlucHV0LnZhbHVlID0gdXBkYXRlZFVzZXJJbmZvLm5hbWU7XG5cdG9jY3VwYXRpb25JbnB1dC52YWx1ZSA9IHVwZGF0ZWRVc2VySW5mby5hYm91dDtcblx0Zm9ybUVkaXRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5cdHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xufSk7XG5cbmJ1dHRvbkF2YXRhckNoYW5nZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRmb3JtQXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuXHRwb3B1cEF2YXRhclVwZGF0ZS5vcGVuKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJidXR0b25FZGl0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9wdXBFZGl0IiwibmFtZUlucHV0Iiwib2NjdXBhdGlvbklucHV0IiwiYnV0dG9uQWRkIiwicG9wdXBBZGQiLCJwb3B1cEF2YXRhciIsImJ1dHRvbkF2YXRhckNoYW5nZSIsImJ1dHRvblN1Ym1pdFBpY3R1cmUiLCJidXR0b25TdWJtaXRQcm9maWxlIiwiYnV0dG9uU3VibWl0QXZhdGFyIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2VDbGFzcyIsIkNhcmQiLCJzZWxlY3RvciIsIm5hbWUiLCJsaW5rIiwiYWx0IiwibGlrZXMiLCJpZCIsInVzZXJJZCIsIm93bmVySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlTGlrZUNhcmQiLCJfZWxlbWVudCIsInJlbW92ZSIsInRoaXMiLCJfc2VsZWN0b3IiLCJfbmFtZSIsIl9saW5rIiwiX2FsdCIsIl9saWtlcyIsIl9jYXJkSWQiLCJfdXNlcklkIiwiX293bmVySWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfaGFuZGxlTGlrZUNhcmQiLCJfZ2V0VGVtcGxhdGUiLCJfaW1hZ2UiLCJfdGl0bGUiLCJfbGlrZXNOdW1iZXIiLCJfdHJhc2giLCJfbGlrZSIsIl9pc0xpa2UiLCJmaW5kIiwibGlrZSIsIl9pZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJpdGVtIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcmMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsImRhdGEiLCJmb3JtIiwiaW5wdXQiLCJlcnJvck1lc3NhZ2VUZXh0IiwiZXJyb3JNZXNzYWdlIiwiX2Zvcm0iLCJfZXJyb3JNZXNzYWdlQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlRXJyb3IiLCJfc2hvd0Vycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJBcnJheSIsImZyb20iLCJfaW5wdXRzIiwic29tZSIsImVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRJbnB1dExpc3RlbmVycyIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0RWxlbWVudCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJjYXJkIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJvY2N1cGF0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9vY2N1cGF0aW9uIiwiX2F2YXRhciIsImFib3V0Iiwib2NjdXBhdGlvbiIsImF2YXRhciIsIlBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInBvcHVwU2VsZWN0b3IiLCJzdWJtaXRGb3JtIiwicHJldmVudERlZmF1bHQiLCJfc3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1JbnB1dHMiLCJhbGxGb3JtVmFsdWVzIiwidmFsdWUiLCJfaGFuZGxlU3VibWl0IiwicmVzZXQiLCJQaWN0dXJlUG9wdXAiLCJfcG9wdXBMaW5rIiwiX3BvcHVwU2lnbiIsIkFwaSIsInVybCIsImhlYWRlcnMiLCJfdXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2hhbmRsZVJlc3BvbnNlIiwidXNlckRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVzZXIiLCJjYXJkSWQiLCJQb3B1cENvbmZpcm1hdGlvbiIsImFjdGlvbiIsIl9hY3Rpb25DYWxsYmFjayIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJJRCIsImNhcmRMaXN0IiwicmVuZGVySXRlbXMiLCJyZXZlcnNlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlQ2FyZCIsImNhcmRzRGF0YSIsImRhdGFVc2VySWQiLCJnZXRVc2VySUQiLCJuZXdDYXJkIiwib3duZXIiLCJwaWN0dXJlUG9wdXAiLCJvcGVuIiwicG9wdXBDb25maXJtIiwic2V0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUNhcmQiLCJnZXRJc0xpa2UiLCJkZWxldGVMaWtlQ2FyZCIsImhhbmRsZUxpa2UiLCJlcnJvciIsImFkZExpa2VDYXJkIiwiZ2V0VmlldyIsImFkZEl0ZW0iLCJwb3B1cEFkZFBpY3R1cmUiLCJpbnB1dERhdGEiLCJhZGRDYXJkIiwiZmluYWxseSIsInBvcHVwRWRpdFByb2ZpbGUiLCJwcm9maWxlRGF0YSIsImVkaXRQcm9maWxlIiwicG9wdXBBdmF0YXJVcGRhdGUiLCJuZXdBdmF0YXIiLCJwYXRjaEF2YXRhciIsImZvcm1FZGl0VmFsaWRhdG9yIiwiZm9ybUFkZFZhbGlkYXRvciIsImZvcm1BdmF0YXJWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZXNldFZhbGlkYXRpb24iLCJ1cGRhdGVkVXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9